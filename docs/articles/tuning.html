<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tuning visualizations in colorist • colorist</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Tuning visualizations in colorist">
<meta property="og:description" content="colorist">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">colorist</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/introduction.html">Introduction</a>
</li>
<li>
  <a href="../articles/tuning.html">Tuning Visualizations</a>
</li>
<li>
  <a href="../reference/index.html">Function Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mstrimas/colorist/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="tuning_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Tuning visualizations in colorist</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mstrimas/colorist/blob/master/vignettes/tuning.Rmd"><code>vignettes/tuning.Rmd</code></a></small>
      <div class="hidden name"><code>tuning.Rmd</code></div>

    </div>

    
    
<p>In the <a href="https://strimas.com/colorist/articles/introduction.html">Introduction to colorist</a> vignette we offered an overview of <code>colorist</code> functionality and several examples of how functions can be combined to map distributions. Here, we explore in more detail how metrics of spatiotemporal distributions (i.e., layer, intensity, and specificity information) are visualized using color attributes (i.e., hue, opacity, and chroma, respectively), and how users can modify visualizations to emphasize different narrative goals.</p>
<p>As a quick reminder, users provide <code>colorist</code> with a <code>Rasterstack</code> containing multiple layers of distributions. Layers may describe a temporal sequence of distributions for a single species or individual, or they may describe distributions of multiple species or individuals within a single time period. The functions in <code>colorist</code> were designed to visualize where, when, and how consistently species or individuals occur throughout a landscape but may be useful for visualizing multivariate data in a variety of other contexts.</p>
<p>In a typical workflow, users calculate metrics to describe their distributions and then choose a palette to enable visualization of those metrics. The palette and metrics are combined and visualized using a map function and a legend is generated to aid interpretation. The appearance of visualizations can be tuned by modifying the default settings of <code>colorist</code> functions at different points in the workflow.</p>
<div id="change-how-layers-are-represented-by-hues" class="section level2">
<h2 class="hasAnchor">
<a href="#change-how-layers-are-represented-by-hues" class="anchor"></a>1. Change how layers are represented by hues</h2>
<p>The first type of adjustment we explore involves changing the assignment of hues to raster layers in palette functions.</p>
<p>Three palette functions are available in <code>colorist</code>, each created with a different visualization problem in mind. The <code><a href="../reference/palette_timecycle.html">palette_timecycle()</a></code> function allows users to visualize cyclical sequences of distributions, <code><a href="../reference/palette_timeline.html">palette_timeline()</a></code> is geared toward linear sequences of distributions, and <code><a href="../reference/palette_set.html">palette_set()</a></code> is appropriate for unordered sets of distributions.</p>
<p>To ensure that viewers can make “fair“ visual comparisons of distributions through space and time, <code>colorist</code> functions impose rather strict constraints on how palette hues are assigned to layers, and how they are deployed in subsequent maps. There are opportunities for users to modify default settings, however, so that hues facilitate specific communication goals.</p>
<p>Below, we provide two hypothetical mapping problems that can be addressed by changing how hues are assigned to raster layers.</p>
<div id="map-monthly-distributions-of-a-species-in-the-southern-hemisphere" class="section level3">
<h3 class="hasAnchor">
<a href="#map-monthly-distributions-of-a-species-in-the-southern-hemisphere" class="anchor"></a>Map monthly distributions of a species in the southern hemisphere</h3>
<p>The sample Field Sparrow data included with <code>colorist</code> describe monthly occurrence probabilities for a partially migratory bird in the eastern United States, but we are going to pretend that they describe monthly distributions of a species that occurs in temperate regions of the southern hemisphere. Our goal is to change the assignments of hues to months so that they better indicate the seasons experienced by our hypothetical species.</p>
<p>To begin, we calculate distribution metrics with <code><a href="../reference/metrics_pull.html">metrics_pull()</a></code> and adopt the default HCL-based color palette provided by <code><a href="../reference/palette_timecycle.html">palette_timecycle()</a></code>. Then we visualize our monthly distribution data using the <code><a href="../reference/map_multiples.html">map_multiples()</a></code> function.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">colorist</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">RColorBrewer</span>)

<span class="co"># pull metrics, generate default palette, map layers</span>
<span class="no">m1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/metrics_pull.html">metrics_pull</a></span>(<span class="no">fiespa_occ</span>)
<span class="no">p1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/palette_timecycle.html">palette_timecycle</a></span>(<span class="fl">12</span>)
<span class="fu"><a href="../reference/map_multiples.html">map_multiples</a></span>(<span class="no">m1</span>, <span class="no">p1</span>, <span class="kw">labels</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">fiespa_occ</span>), <span class="kw">ncol</span> <span class="kw">=</span> <span class="fl">4</span>)</pre></body></html></div>
<p><img src="tuning_files/figure-html/hues-fiespa-default-1.png" width="\textwidth" style="display: block; margin: auto;"></p>
<p>The default settings for <code><a href="../reference/palette_timecycle.html">palette_timecycle()</a></code> produce a palette of hues that begins at “blue” in January and moves progressively toward “green”, “yellow”, and “red”, before returning toward “blue”. These hues align with our general sense of seasonal progression in northern temperate regions, where we move from winter toward spring, summer, fall, and back to winter. The timing of the seasons does not make sense for a species that occurs in southern temperate regions, however.</p>
<p>We can change the alignment of hues and months in <code><a href="../reference/palette_timecycle.html">palette_timecycle()</a></code>, while retaining the sequence of seasons, by adjusting the <code>start_hue</code> argument. All we have to do is specify a value of 60 rather than accept the default value of 240. This change tells <code><a href="../reference/palette_timecycle.html">palette_timecycle()</a></code> to begin assigning hues to layers on the opposite side of the color wheel, 180 degrees, and six months away, from the default setting.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="co"># change palette start position on color wheel</span>
<span class="no">p1_custom</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/palette_timecycle.html">palette_timecycle</a></span>(<span class="fl">12</span>, <span class="kw">start_hue</span> <span class="kw">=</span> <span class="fl">60</span>)

<span class="co"># map layers</span>
<span class="fu"><a href="../reference/map_multiples.html">map_multiples</a></span>(<span class="no">m1</span>, <span class="no">p1_custom</span>, <span class="kw">labels</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">fiespa_occ</span>), <span class="kw">ncol</span> <span class="kw">=</span> <span class="fl">4</span>)</pre></body></html></div>
<p><img src="tuning_files/figure-html/hues-fiespa-custom-1.png" width="\textwidth" style="display: block; margin: auto;"></p>
<p>Now, the progression from “blue“ winter, to “green“ spring, to “yellow“ summer, and “red“ fall seasons begins in July rather than January and hues in the resulting maps more closely indicate the seasons experienced by our hypothetical southern temperate bird species.</p>
</div>
<div id="map-space-use-by-individual-animals-using-relevant-hues" class="section level3">
<h3 class="hasAnchor">
<a href="#map-space-use-by-individual-animals-using-relevant-hues" class="anchor"></a>Map space use by individual animals using relevant hues</h3>
<p>When a <code>Rasterstack</code> contains distributions of multiple species or individuals, it is easy to imagine that users may want to override the default assignment of hues in order to reinforce some aspect of their identity.</p>
<p>Here, we turn to data describing utilization distributions for two African Elephants in Etosha National Park from 2011, individuals LA11 and LA14. Let us assume that they are better known as “Purple People-eater“ and “Jolly Green Giant“. We begin by calculating distribution metrics with <code><a href="../reference/metrics_pull.html">metrics_pull()</a></code> and then generate a palette using the default settings for <code><a href="../reference/palette_set.html">palette_set()</a></code>. When we combine our metrics and palette using <code><a href="../reference/map_multiples.html">map_multiples()</a></code>, the two utilization distributions generate significant cognitive dissonance.</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="co"># pull metrics, generate default palette, map layers</span>
<span class="no">m2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/metrics_pull.html">metrics_pull</a></span>(<span class="no">elephant_ud</span>)
<span class="no">p2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/palette_set.html">palette_set</a></span>(<span class="fl">2</span>)
<span class="fu"><a href="../reference/map_multiples.html">map_multiples</a></span>(<span class="no">m2</span>, <span class="no">p2</span>, <span class="kw">labels</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"'Purple People-eater'"</span>,
                                 <span class="st">"'Jolly Green Giant'"</span>), <span class="kw">ncol</span> <span class="kw">=</span> <span class="fl">2</span>)</pre></body></html></div>
<p><img src="tuning_files/figure-html/hues-elephant-default-1.png" width="\textwidth" style="display: block; margin: auto;"></p>
<p>To communicate a coherent signal of identity across the labels and the maps, we need to override the default hue settings in <code><a href="../reference/palette_set.html">palette_set()</a></code>. We can achieve this by providing the <code>custom_hues</code> argument with a vector of integers indicating where on a rainbow color wheel the function should sample hues. “Purple” hues are found near 280 and “greens” are found near 120, so we specify those values in the appropriate order and visualize our adjustments.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="co"># use custom_hues argument to make specific hue choices</span>
<span class="no">p2_custom</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/palette_set.html">palette_set</a></span>(<span class="fl">2</span>, <span class="kw">custom_hues</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">280</span>, <span class="fl">120</span>))

<span class="co"># map layers</span>
<span class="fu"><a href="../reference/map_multiples.html">map_multiples</a></span>(<span class="no">m2</span>, <span class="no">p2_custom</span>, <span class="kw">labels</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"'Purple People-eater'"</span>,
                                        <span class="st">"'Jolly Green Giant'"</span>), <span class="kw">ncol</span> <span class="kw">=</span> <span class="fl">2</span>)</pre></body></html></div>
<p><img src="tuning_files/figure-html/hues-elephant-custom-1.png" width="\textwidth" style="display: block; margin: auto;"></p>
<p>The result: cognitive harmony.</p>
</div>
</div>
<div id="change-the-relationship-between-intensity-and-opacity" class="section level2">
<h2 class="hasAnchor">
<a href="#change-the-relationship-between-intensity-and-opacity" class="anchor"></a>2. Change the relationship between intensity and opacity</h2>
<p>The second type of adjustment we explore involves changing the relationship between intensity and opacity values, a modification that can be made in the <code><a href="../reference/map_single.html">map_single()</a></code> and <code>map_multiple()</code> functions.</p>
<p>There are a variety of contexts in which it is difficult to visualize important information about populations or individuals because intensity values (i.e., relative abundance, occurrence, or probability density values) have unusual distributions. For example, it can be difficult to indicate the extent to which a species or individual uses an entire landscape when changing availability of resources or inconsistent social interaction causes an extremely skewed distribution of intensity values. Conversely, it can be a challenge to indicate areas of particular importance to species or individuals when they appear at first glance to use an entire landscape relatively evenly.</p>
<p>Cartographers have developed an array of strategies for modifying how data values are represented in maps, many of which involve binning or transforming data. While there is no right “answer” to the “problem” of visualizing data with an unusual distribution, <code>colorist</code> functions focus on transforming data using a slightly modified <code>scales::modulus()</code> transformation. This decision stems from one of our original goals for the <code>colorist</code> package: to visualize continuous variation in intensity values through space and time without truncating or binning values.</p>
<p>In <code>colorist</code>, the relationship between intensity and opacity values is controlled with a <code>lambda_i</code> argument in the <code><a href="../reference/map_multiples.html">map_multiples()</a></code> and <code><a href="../reference/map_single.html">map_single()</a></code> functions. The default setting of <code>lambda_i = 0</code> prescribes a linear relationship between intensity and opacity values. Specifying negative values for <code>lambda_i</code> increases the opacity and apparent intensity of cells with moderate intensity values, giving them greater visual weight. Specifying positive values for <code>lambda_i</code> reduces the opacity and apparent intensity of cells with moderate intensity values, thus highlighting cells with high intensity values.</p>
<div class="figure" style="text-align: center">
<img src="tuning_files/figure-html/opacity-intensity-plot-1.png" alt="**Cell opacity as a function of intensity values and `lambda_i`.**" width="\textwidth"><p class="caption">
<strong>Cell opacity as a function of intensity values and <code>lambda_i</code>.</strong>
</p>
</div>
<p>Below, we provide two examples of how users may modify the <code>lambda_i</code> argument to meet different narrative goals.</p>
<div id="emphasize-the-extent-of-the-landscape-used-by-an-individual-animal" class="section level3">
<h3 class="hasAnchor">
<a href="#emphasize-the-extent-of-the-landscape-used-by-an-individual-animal" class="anchor"></a>Emphasize the extent of the landscape used by an individual animal</h3>
<p>If we continue our exploration of African Elephant data and inspect the utilization distribution for “Jolly Green Giant“ using the <code><a href="../reference/map_single.html">map_single()</a></code> function, it is clear that the individual uses some areas of the landscape much more intensively than others.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="co"># map one layer</span>
<span class="fu"><a href="../reference/map_single.html">map_single</a></span>(<span class="no">m2</span>, <span class="no">p2_custom</span>, <span class="kw">layer</span> <span class="kw">=</span> <span class="fl">2</span>)</pre></body></html></div>
<p><img src="tuning_files/figure-html/opacity-elephant-default-1.png" width="\textwidth" style="display: block; margin: auto;"></p>
<p>The map does not effectively visualize the system of trails used to move between areas of intensive use, however, which may be of specific management interest. In order to visually emphasize the full extent of the landscape used by “Jolly Green Giant”, we need to provide the <code>lambda_i</code> argument in <code><a href="../reference/map_single.html">map_single()</a></code> with a negative number rather than accept the default value of 0. This change should increase the visual weight of cells containing moderate and low intensity values.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="co"># map one layer with adjustment to lambda_i</span>
<span class="fu"><a href="../reference/map_single.html">map_single</a></span>(<span class="no">m2</span>, <span class="no">p2_custom</span>, <span class="kw">layer</span> <span class="kw">=</span> <span class="fl">2</span>, <span class="kw">lambda_i</span> <span class="kw">=</span> -<span class="fl">12</span>)</pre></body></html></div>
<p><img src="tuning_files/figure-html/opacity-elephant-custom-1.png" width="\textwidth" style="display: block; margin: auto;"></p>
<p>After adjusting <code>lambda_i</code>, our map more clearly indicates the full extent of “Jolly Green Giant’s” movements throughout the year, albeit at a cost of distinguishing subtle differences in intensity of use between cells. It is important for users to recognize this trade-off and to make thoughtful decisions about how best to communicate their narrative goals while respecting the information embedded in their data.</p>
</div>
<div id="emphasize-specific-locations-that-are-essential-to-an-individual-animal" class="section level3">
<h3 class="hasAnchor">
<a href="#emphasize-specific-locations-that-are-essential-to-an-individual-animal" class="anchor"></a>Emphasize specific locations that are essential to an individual animal</h3>
<p>Next, let us explore utilization distribution data for an individual Fisher that describes its use of the landscape over nine sequential nights in upstate New York. First, we use <code><a href="../reference/metrics_pull.html">metrics_pull()</a></code> to calculate distribution metrics. Then, we use <code><a href="../reference/palette_timeline.html">palette_timeline()</a></code> to generate a palette. Finally, we make a map using the <code><a href="../reference/map_multiples.html">map_multiples()</a></code> function.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="co"># pull metrics, generate default palette, map layers</span>
<span class="no">m3</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/metrics_pull.html">metrics_pull</a></span>(<span class="no">fisher_ud</span>)
<span class="no">p3</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/palette_timeline.html">palette_timeline</a></span>(<span class="no">fisher_ud</span>)
<span class="fu"><a href="../reference/map_multiples.html">map_multiples</a></span>(<span class="no">m3</span>, <span class="no">p3</span>, <span class="kw">labels</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">fisher_ud</span>))</pre></body></html></div>
<p><img src="tuning_files/figure-html/opacity-fisher-default-1.png" width="\textwidth" style="display: block; margin: auto;"></p>
<p>It is clear that the Fisher is using different parts of its territory to different degrees, within and among nights, but if we want to more clearly understand and illustrate which areas were used most intensively we need to change the relationship between intensity and opacity values. In order to highlight intensively used cells, we provide the <code>lambda_i</code> argument in <code><a href="../reference/map_multiples.html">map_multiples()</a></code> with a positive number rather than accept the default value of 0.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="co"># map layers with adjustment to lambda_i</span>
<span class="fu"><a href="../reference/map_multiples.html">map_multiples</a></span>(<span class="no">m3</span>, <span class="no">p3</span>, <span class="kw">labels</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">fisher_ud</span>), <span class="kw">lambda_i</span> <span class="kw">=</span> <span class="fl">12</span>)</pre></body></html></div>
<p><img src="tuning_files/figure-html/opacity-fisher-custom-1.png" width="\textwidth" style="display: block; margin: auto;"></p>
<p>At first glance, it may appear that we have made a mistake of some kind. Nearly all of the data seems to have disappeared. This is because our (extreme) adjustment to <code>lambda_i</code> has decreased the opacity and apparent intensity of cells containing intermediate and low intensity values and preserved opacity values only in the cells that were used very intensively. It makes for a very sparse series of maps, but we can now clearly see that two locations were used very intensively by the Fisher, one on the second night of the study period and one on the third night.</p>
</div>
</div>
<div id="change-the-relationship-between-specificity-and-chroma" class="section level2">
<h2 class="hasAnchor">
<a href="#change-the-relationship-between-specificity-and-chroma" class="anchor"></a>3. Change the relationship between specificity and chroma</h2>
<p>The third type of adjustment we explore involves changing the relationship between specificity and chroma values, a modification that can be made in the <code><a href="../reference/map_single.html">map_single()</a></code> function. In mechanical terms, the transformation is nearly identical to the one used for changing the relationship between intensity and opacity values. The visual and narrative impacts are quite different, however.</p>
<p>Remember that specificity values indicate whether a cell contains similar intensities (low specificity) or dissimilar intensities (high specificity) across raster layers and that variation in specificity values is indicated by varying the chroma of cell colors. Cells with low specificity values are indicated using low chroma values and appear “gray”. Cells with high specificity values are indicated using high chroma values and appear brightly colored.</p>
<p>Depending on the nature of the data contained in a <code>Rasterstack</code>, specificity values can take on a variety of meanings, including, seasonal use of a cell, ephemeral use of a cell, or differential use of a cell by multiple species or individuals. Thus, changing the relationship between specificity and chroma values can have important consequences for how viewers interpret patterns of spatiotemporal overlap among raster layers.</p>
<p>The relationship between specificity and chroma values is controlled with a <code>lambda_s</code> argument in the <code><a href="../reference/map_single.html">map_single()</a></code> function. Again, the default setting of 0 prescribes a linear relationship between specificity and chroma values, analogous to the default relationship between intensity and opacity. Specifying negative values for <code>lambda_s</code> increases the chroma and apparent specificity values in cells with moderate specificity values, making them more “colorful“. Specifying positive values for <code>lambda_s</code> reduces the chroma and apparent specificity values of cells with moderate specificity values, making them more “gray“.</p>
<div class="figure" style="text-align: center">
<img src="tuning_files/figure-html/chroma-specificity-plot-1.png" alt="**Cell chroma as a function of specificity values and `lambda_s`.**" width="\textwidth"><p class="caption">
<strong>Cell chroma as a function of specificity values and <code>lambda_s</code>.</strong>
</p>
</div>
<p>Below, we provide two examples of how users may modify the <code>lambda_s</code> argument to address different narrative goals.</p>
<div id="emphasize-differences-in-how-consistently-locations-are-used-by-an-individual-animal" class="section level3">
<h3 class="hasAnchor">
<a href="#emphasize-differences-in-how-consistently-locations-are-used-by-an-individual-animal" class="anchor"></a>Emphasize differences in how consistently locations are used by an individual animal</h3>
<p>Using the sample Fisher data which contain utilization distributions for nine sequential nights, we can visualize patterns of spatiotemporal overlap by calculating distribution metrics using <code><a href="../reference/metrics_distill.html">metrics_distill()</a></code>, creating a palette using <code><a href="../reference/palette_set.html">palette_set()</a></code>, and generating a map with <code><a href="../reference/map_single.html">map_single()</a></code>. To make rarely used areas more conspicuous we also set <code>lambda_i = -5</code> in <code><a href="../reference/map_single.html">map_single()</a></code> and then we create a legend to aid interpretation of our map using <code><a href="../reference/legend_timeline.html">legend_timeline()</a></code>.</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="co"># distill metrics, visualize metrics in a single map, create legend</span>
<span class="no">m3_distill</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/metrics_distill.html">metrics_distill</a></span>(<span class="no">fisher_ud</span>)
<span class="fu"><a href="../reference/map_single.html">map_single</a></span>(<span class="no">m3_distill</span>, <span class="no">p3</span>, <span class="kw">lambda_i</span> <span class="kw">=</span> -<span class="fl">5</span>)</pre></body></html></div>
<p><img src="tuning_files/figure-html/chroma-fisher-default-1.png" width="\textwidth" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="fu"><a href="../reference/legend_timeline.html">legend_timeline</a></span>(<span class="no">p3</span>)</pre></body></html></div>
<p><img src="tuning_files/figure-html/chroma-fisher-default-2.png" width="\textwidth" style="display: block; margin: auto;"></p>
<p>The abundance of brightly colored cells indicates that the Fisher used different parts of its territory almost every night, and the different hues indicate which night each cell was used most intensively. If we want to more clearly indicate which parts of the Fisher territory were used repeatedly, we need to adjust how specificity values are represented using the <code>lambda_s</code> argument in <code><a href="../reference/map_single.html">map_single()</a></code>. To emphasize patterns of consistent use across nights we need to specify a positive number for <code>lambda_s</code>, an adjustment that decreases chroma and apparent specificity values in cells that contain moderate specificity values, making them appear more “gray“.</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="co"># visualize metrics in a single map with adjustment to lambda_s</span>
<span class="fu"><a href="../reference/map_single.html">map_single</a></span>(<span class="no">m3_distill</span>, <span class="no">p3</span>, <span class="kw">lambda_i</span> <span class="kw">=</span> -<span class="fl">5</span>, <span class="kw">lambda_s</span> <span class="kw">=</span> <span class="fl">12</span>)</pre></body></html></div>
<p><img src="tuning_files/figure-html/chroma-fisher-custom-1.png" width="\textwidth" style="display: block; margin: auto;"></p>
<p>The revised map and the original map have very similar perceptual weights but, overall, the new map is less “colorful” as a result of supplying <code>lambda_s</code> with a positive number. By changing the relationship between specificity and chroma values, we now have a map that more clearly indicates which areas were used repeatedly by the Fisher across nights.</p>
</div>
<div id="emphasize-timing-of-peak-occurrence-for-a-seasonal-migrant" class="section level3">
<h3 class="hasAnchor">
<a href="#emphasize-timing-of-peak-occurrence-for-a-seasonal-migrant" class="anchor"></a>Emphasize timing of peak occurrence for a seasonal migrant</h3>
<p>There are other situations in which researchers may want to emphasize when a species is most likely to be found in a particular place rather than emphasizing how consistently it is likely to be found in a particular place. For example, in the case of migratory birds, a researcher may want to communicate to birders the specific time of year they are most likely to find a given species in their backyard. We can address this challenge using our Field Sparrow data.</p>
<p>As with the Fisher, we start by calculating distribution metrics with <code><a href="../reference/metrics_distill.html">metrics_distill()</a></code> and then we generate a map by feeding metrics and the palette we created in the first example to the <code><a href="../reference/map_single.html">map_single()</a></code> function. We also create a legend based on that palette using <code><a href="../reference/legend_timecycle.html">legend_timecycle()</a></code> which helps us find Field Sparrows in space and time.</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="co"># distill metrics, visualize metrics in a single map, create legend</span>
<span class="no">m1_distill</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/metrics_distill.html">metrics_distill</a></span>(<span class="no">fiespa_occ</span>)
<span class="fu"><a href="../reference/map_single.html">map_single</a></span>(<span class="no">m1_distill</span>, <span class="no">p1</span>)</pre></body></html></div>
<p><img src="tuning_files/figure-html/chroma-fiespa-default-1.png" width="\textwidth" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="fu"><a href="../reference/legend_timecycle.html">legend_timecycle</a></span>(<span class="no">p1</span>)</pre></body></html></div>
<p><img src="tuning_files/figure-html/chroma-fiespa-default-2.png" width="\textwidth" style="display: block; margin: auto;"></p>
<p>Cells where populations of Field Sparrows persist at approximately the same level throughout the year have low specificity values and low chroma values and appear “gray“ in our map. Cells where populations occur only seasonally have high specificity values and high chroma values and appear “colorful“ with the hue in a cell indicating the month of peak occurrence.</p>
<p>If we want to emphasize information about when a species is most likely to be found (i.e., timing of peak occurrence) we can adjust the relationship between specificity and chroma values. We inflate the chroma and apparent specificity values for cells that contain moderate and low specificity values by providing the <code>lambda_s</code> argument with a negative number.</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="co"># visualize metrics in a single map with adjustment to lambda_s</span>
<span class="fu"><a href="../reference/map_single.html">map_single</a></span>(<span class="no">m1_distill</span>, <span class="no">p1</span>, <span class="kw">lambda_s</span> <span class="kw">=</span> -<span class="fl">12</span>)</pre></body></html></div>
<p><img src="tuning_files/figure-html/chroma-fiespa-custom-1.png" width="\textwidth" style="display: block; margin: auto;"></p>
<p>The revised distribution map has approximately the same visual weight as the original, but our adjustment to <code>lambda_s</code> has made “gray” cells much more “colorful”. Now, information about timing of maximum occurrence is readily available to viewers and they should be able to identify in which month Field Sparrows are most likely to occur in their backyard and at what intensity.</p>
<p>Again, it is important for users to recognize that adjustments to <code>lambda_s</code> require a sacrifice of information about specificity. In the revised map, it is much more difficult for viewers to reliably assess how consistently Field Sparrows occur in a given cell throughout the year.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://www.justinschuetz.com/">Justin Schuetz</a>, <a href="http://strimas.com">Matthew Strimas-Mackey</a>, <a href="http://twitter.com/tom_auer">Tom Auer</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
